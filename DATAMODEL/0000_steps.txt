Main steps:

1. Prepare spreadsheet - both working and client (00_ParkingOccupancy_Templates\Spreadsheet templates)
 - copy to "Projects/<Year>/<ProjectName>/Data
 - rename using the project code/name - and delete unwanted spreadsheets
 
2. Load demand data
 - Use "load" project
 - Run loadDemand plugin - untick "TestBeat" and choose appropriate folder for source geopackage(s)

3. Check that everything is loaded correctly
 - visual check from "load" project
 - check counts in db (2000_verify_counts.sql). If using SurveyAreas, output and load into Pivot table
 - check for obvious errors (2001_check_counts.sql)
   - 2001a_check_counts_high_demand.sql
   - 2001b_check_counts_differences_in_consec_beats.sql
   - 2001c_check_counts_differences_in_same_time_period.sql
   - 2001d_check_counts_cars_in_mcl_pcl_bays.sql

4. Copy photos
 - copy photos to ..Mapping/Photos folder - and check for any that are missing. If appropriate, amend and use .Demand/copy_photos_from_demand.bat
 - If additional photos are taken, i.e., not with tablet, load these with ./0009_Utilities/5015_demand_photos_table.sql or ./0009_Utilities/5010_include_extra_photos.sql

5. Check RiS notes for changes in supply
     - 2002_check_notes.sql
	 - If any details are changed, ensure that all details are complete including RoadName
	 - if restrictions are added, ensure that they are added into demand tables - RiS/Counts - DATAMODEL\0009_Utilities\2001_add_extra_supply_to_ris.sql
	 
6. Output supply.
     - Run 0001a_output_supply.sql
     - Save to Downloads\<ProjectReference>_Supply.csv
     - Copy into the "Supply (QGIS)" worksheet of the DataPreparation workbook. (Use Paste "Values" to keep formatting)
	 - Copy details from Pivot table to Client workbook - both into 1a - Parking Supply and 1b - Suspensions

7. If required, get surveys (0001b_output_surveys.sql) (and check dates of surveys - e.g., RBKC)
     - Use to create the appropriate surveys within the client workbook (in 1b - Suspensions)
 
8. Check suspensions (from notes and photos)
 - check VRMs for things like SY, SYL, DK, BINS, CONES, SKIP, etc
 - ensure suspensions are consistent (from notes and photos) - same location, details, number of spaces, etc

9a. For counts
    - output RiS - ../0002_Counts/2004_output_RestrictionsInSurveys_Counts.sql
	- Save to Downloads\<ProjectReference>_RiS.csv
    - Copy into the "RiS (QGIS)" worksheet of the DataPreparation workbook. (Use Paste "Values" to keep formatting)
	
	- Update pivot tables to show Suspension details, SYL and demand by road/restriction type
	
	- Copy suspension details into client workhook ( 1b - Suspensions)
	- Copy SYL details into client workhook ( 1b - SYLs)
		 
	- Ensure that 1c - SYLs and 1d - Capacity at time of survey are correct ...
	 
	- Copy demand details into tables 2 and 3
	
	- output photos - with street/section details - 0004_photos_with_details_from_RiS_demand.sql and 0005_photos_with_details_from_RiS_demand_Suspensions.sql

9b. For VRMs, output ...
 - Add functions to calculate demand/stress, etc
     - for VRMs will also need user type and duration

 - Process VRMs
	 - for VRMs, deal with matching including duplicates and other issues
		 - standardise VRM formats
		 - remove duplicates and blanks
		 - use "fuzzy" match
     - check "non-standard" VRMs

    - output RiS - follow details for counts

10. Mapping

 - run scripts:
    - set up "template" to dsplay parked vehicles - 3001a_supply_view_parking_locations.sql
    - add locations - 3002_show_parking_locations_using_RiS.sql
	- create stress details for roads - 3003a_prepare_stress_table_RoadName_from_db.sql
	
 - Prepare supply plan and sort out labelling
   - Use "Set Map Extent to match Main canvas Extent"
   - Set appropriate scale - but aim for 1:1,250
   - Set Project->Properties->ProjectName as appropriate

 - Duplicate Supply layout and use for Locations
	- Copy title details from earlier Locations layout
	- Create Atlas. Use "Surveys" as "Coverage layer", filter to be "SurveyID" > 0, sort by "SurveyID"
	- Add "Demand_view_to_show_parking_locations" to legend - and hide layer title (with the legend)
	- Add caveat on vehicle locations from earlier Locations layout
	- Turn off supply labels and leaders

 - Duplicate Locations layout and use for Stress
    - Change title
	- Delete legend and copy legend from earlier Stress layout
	- Turn off Supply

11. Data for client
 - Output RiS (and VRMs if appropriate)
    - 2004b_output_RestrictionsInSurveys_Counts_for_client.sql
    - for VRMs - 1055_Anonomise_VRMs.sql + 1060_output_vrms_final_for_report.sql
 
 
 *** report waiting/idling vehicles
 


